---
outline: deep
---

# 数据结构

## 数组

**数组**（Array）是一种线性表数据结构。它用一组连续的内存空间，来存储一组具有相同类型的数据。
操作数组有两种方式：新建所需要大小数组，添加数据。或者在原数组修改，但是数组大小不变。
动态数组本质是新建一个更大数组，因为数组创建后大小不能变。

![数据结构数组](/image/数据结构数组.bmp)

## 队列

队列（queue）是只允许在一端进行插入操作，而在另一端进行删除操作的线性表。
队列中数据的特点：先进先出，后进后出。

![数据结构队列](/image/数据结构队列.png)

## 栈

栈(stack)是限定仅在表尾进行插入或者删除的线性表。对于栈来说，表尾端称为栈顶（top），表头端称为栈低（bottom）。
不含元素的空表称为空栈。因为栈限定在表尾进行插入或者删除，所以栈又被称为后进先出的线性表。

![数据结构队列](/image/数据结构栈.png)

## 链表

单向链表中的结点是独立的对象，在内存中是不连续的，每个结点包含数据值和下一个结点的地址。
双向链表中的结点也是独立的对象，在内存中也是不连续的。每个结点包含上一个结点的地址、数据值和下一个结点的地址。
链表查询慢，无论查询哪个数据都要从头开始找。链表增删相对快。
双向链表首尾操作查询比较快，其他查询慢，但是比单向链表要快（查第几个元素时）。
因为当我们查第几个元素时，可以判断前近一点还是后近一点然后开始查询，而单向链表只能从前开始。

![数据结构链表](/image/数据结构链表.bmp)

## 树

一个树的节点包含自己的值，父节点地址，左子节点地址，右子节点地址。
每一个节点的子节点叫度。
树的高度就是层数。
根节点：最顶层节点。

### 二叉查找树

二叉查找树，又称二叉排序树或者二叉搜索树。
每一个节点上最多有两个子节点。
任意节点左子树上的值都小于当前节点。
任意节点右子树上的值都大于当前节点。简略地说小的存左边、大的存右边、一样的不存。

![二叉查找树](/image/二叉查找树.png)

#### 查找顺序：

- 前序遍历
  从根结点开始，然后按照当前结点，左子结点，右子结点的顺序遍历
- 中序遍历
  从最左边的子节点开始，然后按照左子结点，当前结点，右子结点的顺序遍历
- 后序遍历
  从最左边的子节点开始，然后按照左子结点，右子结点，当前结点的顺序遍历
- 层序遍历
  从根节点开始一层一层的遍历

#### 弊端：

二叉查找树 弊端（数据变成链表式）

![二叉查找树](/image/二叉查找树链式.png)

### 平衡二叉树

规则：任意节点左右子树高度差不超过1

#### 平衡二叉树旋转机制

触发时机：当添加一个节点之后，该树不再是一棵平衡二叉树

##### 平衡二叉树左旋

确定支点：从添加的节点开始，不断的往父节点找不平衡的节点。
以不平衡的点作为支点，将根节点的左侧往右拉。
原先的左子节点变成新的父节点，并把多余的原本左子节点的右子节点出让，给已经降级的根节点当左子节点。

##### 平衡二叉树右旋

确定支点：从添加的节点开始，不断的往父节点找不平衡的节点。
以不平衡的点作为支点，将根节点的右侧往左拉。
原先的右子节点变成新的父节点，并把多余的原本右子节点的左子节点出让，给已经降级的根节点当右子节点。

##### 平衡二叉树旋转方式

- 左左（一次右旋）：当根节点左子树的左子树有节点插入，导致二叉树不平衡
- 左右（先局部左旋，再整体右旋）：当根节点左子树的右子树有节点插入，导致二叉树不平衡
- 右右（一次左旋）：当根节点右子树的右子树有节点插入，导致二叉树不平衡
- 右左（先局部右旋，再整体左旋）：当根节点右子树的左子树有节点插入，导致二叉树不平衡 导致二叉树不平衡

##### 在平衡二叉树中，如何添加节点？

小的存左边，大的存右边，一样的不存

##### 在平衡二叉树中，如果查找单个节点？

从根节点开始查找， 比节点小的查左边，大的查右边

##### 为什么要旋转？

添加节点后，平衡二叉树不平衡了。

### 红黑树

增删改查效果都很好，旋转要比平衡二叉树要少

1. 每一个节点或是红色的，或者是黑色的
2. 根节点必须是黑色
3. 如果一个节点没有子节点或者父节点，则该节点相应的指针属性值为Nil，这些Nil视为叶节点，每个叶节点（Nil）是黑色的
4. 如果某一个节点是红色，那么它的子节点必须是黑色（不能出现两个红色节点相连的情况）
5. 对每一个节点，从该节点到其所有后代叶节点的简单路径上，均包含相同数目的黑色节点

数据结构（红黑树）添加节点的规则

默认颜色：添加节点默认是红色的（效率高） 按照规则添加的时候得出的结论

![红黑树添加节点规则](/image/红黑树添加节点规则.png)

### B树

B树（B-tree）是一种多路搜索树，它用于在磁盘上存储大型数据库。
B树是一种平衡的多路搜索树，它具有以下特点：
1. 每个节点最多有m个子节点，最少有m/2个子节点（m为偶数）
2. 每个节点存储一个关键字，用于搜索
3. 每个节点存储一个索引，用于搜索
4. 每个节点存储一个指针，用于指向子节点
5. 每个节点存储一个指针，用于指向父节点
6. 每个节点存储一个指针，用于指向兄弟节点

### B+树

B+树是一种多路搜索树，它用于在磁盘上存储大型数据库。
B+树是一种平衡的多路搜索树，它具有以下特点：
1. 每个节点最多有m个子节点，最少有m/2个子节点（m为偶数）
2. 每个节点存储一个关键字，用于搜索
3. 每个节点存储一个索引，用于搜索
4. 每个节点存储一个指针，用于指向子节点
5. 每个节点存储一个指针，用于指向父节点
6. 每个节点存储一个指针，用于指向兄弟节点


## 跳表
跳跃表（skiplist）是一个用于有序元素序列快速搜索的随机化的数据结构。

跳跃表是链表的扩展，它通过增加索引层，实现对元素的快速查找。

跳跃表的查找、插入和删除操作的时间复杂度均为O(log n)，其中n是跳跃表中元素的数量。

跳跃表的实现方式有很多种，常见的有单向链表、双向链表、多向链表等。

跳跃表的查询效率高，插入和删除数据效率也高。

![](/image/跳表.png)

由上往下查询，类似二分法，查询效率快。
插入数据的层数随机（解决插入和删除节点时造成的后续节点重新调整的问题）。

个人理解：链表升级版



